<div class="mt-5" >
    <h1>Gestionar Funcionarios</h1>
    <p></p><p></p><p></p>
    <p></p>
    <p></p>
    <form>
  <div class="form-group">
          <label for="funcionario">Nombre del funcionario</label>
          <input type="text" [(ngModel)]="funcionarioSelec.nombreCompleto" class="form-control" name="estacionamiento">
        </div>

        <div class="form-group" *ngIf="isEditing; else elseEditing">
          <label for="identificacion">Identificación</label>
          <input readonly=»readonly» type="text" [(ngModel)]="funcionarioSelec.identificacion" class="form-control" name="identificacion">
        </div>
        <ng-template #elseEditing>
          <label for="identificacion">Identificación</label>
          <input type="text" [(ngModel)]="funcionarioSelec.identificacion" class="form-control" name="identificacion">
        </ng-template>
        <div class="form-group">
          <label for="especiales" >¿Presenta alguna discapacidad?</label>
            <p></p>
            <div *ngIf="necesidadEspecial; else elseBlockSpecialNeed">
                <input [(ngModel)]="necesidadEspecial" type="radio" id="siPresenta"  name="necesidadEspecial" [value]="true" checked>
                <label for="siPresenta">Sí</label><br>
                <input [(ngModel)]="necesidadEspecial" type="radio" id="noPresenta"  [value]="false" name="necesidadEspecial">
                <label for="noPresenta">No</label><br>
            </div>
            <ng-template #elseBlockSpecialNeed>
                <input [(ngModel)]="necesidadEspecial" type="radio" id="siPresenta" name="necesidadEspecial" [value]="true" >
               <label for="siPresenta">Sí</label><br>
                <input [(ngModel)]="necesidadEspecial" type="radio" id="noPresenta" name="necesidadEspecial" [value]="false" checked>
              <label for="noPresenta">No</label><br>
          </ng-template>
        </div>
        <div class="form-group">
          <label for="esJefe">¿Es jefatura?</label>
          <p></p>
          <div *ngIf="esJefatura; else elseBlockJefatura">
            <input [(ngModel)]="esJefatura" type="radio" id="siEsJefe"  name="esJefe" [value]="true" checked>
            <label for="siEsJefe">Sí</label><br>
            <input [(ngModel)]="esJefatura" type="radio" id="noEsJefe"  name="esJefe" [value]="false">
            <label for="noEsJefe">No</label><br>
        </div>
        <ng-template #elseBlockJefatura>
            <input [(ngModel)]="esJefatura" type="radio" id="siEsJefe" name="esJefe" [value]="true" >
           <label for="siEsJefe">Sí</label><br>
            <input [(ngModel)]="esJefatura" type="radio" id="noEsJefe"  [value]="false" name="esJefe" checked>
          <label for="noEsJefe">No</label><br>
      </ng-template>
      </div>

        <label for="esEncargado">¿Es encargado? </label>
                <p></p>
                
                  <input  [(ngModel)]="esEncargado" type="radio" id="esEncargado"  name="esEncargado" [value]="true" checked>
                  <label for="siesEncargado">Sí</label><br>
                  <input  [(ngModel)]="esEncargado" type="radio" id="esEncargado"  name="esEncargado" [value]="false">
                  <label for="noesEncargado">No</label><br>
               
        <p></p>
          <h4>Cambiar contraseña</h4>
          <p></p><p></p><p></p><p></p>
          <label for="contrasena">Escriba su nueva contraseña</label>
          <input type="password" [(ngModel)]="funcionarioSelec.contrasena" class="form-control" name="contrasena">
          <p></p><p></p>
          <label for="contrasena">Confirme su nueva contraseña</label>
          <input type="password" [(ngModel)]="confirmar" class="form-control" name="contrasena">
          <p></p><p></p><p></p>
          <div class="alert alert-fail" role="alert" *ngIf= "!todobien">
            Las contraseñas no coinciden o no ha creado una
          </div>
          <p></p><p></p><p></p>
          <div class="btn-group">
            <label>Departamento: </label>&nbsp;&nbsp;&nbsp;
            <select [(ngModel)]="departamentoSelect" id="dropdown1" name="departamento">
                  <option *ngFor="let func of departamentos,index as i">{{func["descripcion"]}}</option>
            </select>
          </div>
        
        <div class="form-group">
          <label for="correoAlterno">Correo Alterno</label>
          <input type="text" [(ngModel)]="funcionarioSelec.correoAlterno" class="form-control" name="correoAlterno">
        </div>
        
        <div class="form-group">
          <label for="correoInstitucional">Correo Institucional</label>
          <input type="text" [(ngModel)]="funcionarioSelec.correoInstitucional" class="form-control" name="correoInstitucional">
        </div>

        <div class="form-group">
          <label for="celular">Celular</label>
          <input type="text" [(ngModel)]="funcionarioSelec.celular" class="form-control" name="celular">
        </div>
      <h3>Registro de horarios: </h3>
      <p></p><p></p>
       <div class="horariosForm">
          <select [(ngModel)]="horario.dia" id="dropdown3" name="diaHorario">
            <option *ngFor="let func of dias,index as i">{{func}}</option>
          </select>
          <p></p><p></p>
          <small>Hora de Entrada: </small>
          <p></p><p></p>
          <input type="time" id="horaInputEntrada" name="horaInputEntrada" min="00:00" max="24:00" [(ngModel)]="horario.inicio">
          <p></p>
          <small>Hora de Salida: </small>
          <p></p>
          <input type="time" id="horaInputSalida" name="horaInputSalida" min="00:00" max="24:00" [(ngModel)]="horario.fin">
          <span class="input-group-btn" 
              style="width:0px;"></span>
      </div>
      <p></p>
      <button style="position: relative; left:200px; top:-150px;" type="button" class="btn btn-secondary" (click)="agregarHorario()">Agregar</button>
      <div style="width: 400px; height: 200px; overflow-y: scroll;">
        <ul class="list-group">
              <li class="list-group-item" *ngFor="let horario of horarios, index as i">
                <div class="horariosForm">
                  <select id="dropdown4" disabled>
                    <option>{{horario.dia}}</option>
                  </select>
                  <p></p><p></p>
                  <small>Hora de Entrada: </small>
                  <p></p><p></p>
                  <input type="time" id="horaOutputEntrada" name="horaOutputEntrada" min="00:00" max="24:00" [(ngModel)]="horario.inicio">
                  <p></p>
                  <small>Hora de Salida: </small>
                  <p></p>
                  <input type="time" id="horaOutputSalida" name="horaOutputSalida" min="00:00" max="24:00" [(ngModel)]="horario.fin">
                  <span class="input-group-btn" 
                      style="width:0px;"></span>
              </div>
              <p></p>
              <button type="button" class="btn btn-secondary" (click)="eliminarHorario(i)">eliminarHorario</button>
              </li>
          </ul>
      </div>
      <div style="position: relative; left:-80px" class="btn-group" role="group" aria-label="Basic example">
        <div class="template-tabs-container">
          <label>Tipo de funcionario</label>
            <div class="buttons" tile color="secondary" group>
            <button #clickDocente type="button" class="btn btn-secondary" (click)="tipoFuncionario(2)" [class.btn-success]="tipofuncionarioSelec == 2">Docente</button>&nbsp;&nbsp;&nbsp;
            <button #clickAdministrativo type="button" class="btn btn-secondary" (click)="tipoFuncionario(1)" [class.btn-success]="tipofuncionarioSelec == 1">Administrativo</button>&nbsp;&nbsp;&nbsp;
          </div>
            <label>Tipo de usuario</label>
            <div class="buttons" tile color="secondary" group>
              <button #clickComun type="button" class="btn btn-secondary" (click)="tipoUsuario(2)" [class.btn-success]="usuarioSelec == 2">Comun</button>&nbsp;&nbsp;&nbsp;
              <button #clickAdministrador type="button" class="btn btn-secondary" (click)="tipoUsuario(1)" [class.btn-success]="usuarioSelec == 1">Administrador</button>&nbsp;&nbsp;&nbsp;
            </div>
            <p></p>
            <p></p>
            <p></p>
            <label>Por realizar: </label>&nbsp;&nbsp;&nbsp;
            <button type="submit" class="btn btn-primary" (click)="agregarFuncionario()">Agregar funcionario</button>&nbsp;&nbsp;&nbsp;
            <button type="submit" *ngIf="isEditing == true" class="btn btn-primary" (click)="actualizarFuncionario()">Actualizar funcionario</button>&nbsp;&nbsp;&nbsp;
            <button type="submit" *ngIf="isSelected == true" class="btn btn-danger" (click)="eliminarFuncionario()">Borrar funcionario</button>&nbsp;&nbsp;&nbsp;
          </div>
        </div>
        
      </form>
      <p></p>
      <p></p>
      <h3>Lista de Funcionarios: {{cuentaFuncionarios}}</h3>
      <div class="btn-group">
        <label>Departamento: </label>&nbsp;&nbsp;&nbsp;
        <select [(ngModel)]="departamentoSelect2" id="dropdown2" name="departamentoFiltro" (change)="filtrarFuncionarios(departamentoSelect2)">
            <option>Cualquiera</option>
            <option *ngFor="let func of departamentos,index as i">{{func["descripcion"]}}</option>
        </select>
      </div>
      <div class="container">
        <ul class="list-group"  style="height: 400px; overflow-y: scroll;" >
          <li class="list-group-item list-group-item-action" style="color:blue">Nombre funcionario</li>
          <li *ngFor="let funcionario of listaFuncionarios" class="list-group-item list-group-item-action"
          (click)="cargarFuncionarioSelec(funcionario)"
          [class.active]="funcionario == funcionarioSelec">
              {{funcionario.nombreCompleto}}
          </li>
          <p></p>
          <p></p>
          <p></p> 
          <p></p>
          <p></p>
          <p></p> 
        </ul>
      </div>
